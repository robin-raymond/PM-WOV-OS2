#define _COMMON_CWINDOW_H_
#include "common.h"

#include "about.hpp"
#include "register.hpp"


PPROCESSHEADER(CAboutDlg)
{
	STARTPROCESSING()

		PONCHAR()

		STARTCMDPROCESSING()
			PONCMDPUSHBUTTON()
		ENDCMDPROCESSING()
	ENDPROCESSING()
}

BOOL CAboutDlg::OnChar(MRESULT &, USHORT flags, UCHAR, UCHAR, USHORT, USHORT Virtual)
{
	if (flags & KC_KEYUP)
		return FALSE;

	if (Virtual == VK_ESC)
		return TRUE;

	return FALSE;
}


BOOL CAboutDlg::OnCmdPushButton(MRESULT &, USHORT Which, BOOL)
{
	switch(Which)
	{
		case BID_OKAY:
							DismissDlg(TRUE);
							return TRUE;
		case BID_REGISTRATION:
							CRegisterDlg Test;

							Test.Dlg(CWindow(HWND_DESKTOP), *this, NULLHANDLE, DID_REGISTRATION);
							DismissDlg(FALSE);
							return TRUE;
	}
	return FALSE;
}

